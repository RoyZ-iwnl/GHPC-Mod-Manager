<Window x:Class="GHPC_Mod_Manager.Views.LogWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:GHPC_Mod_Manager.Views"
        xmlns:resources="clr-namespace:GHPC_Mod_Manager.Resources"
        mc:Ignorable="d"
        Title="{x:Static resources:Strings.ProgramLogs}" Height="500" Width="800"
        WindowStartupLocation="CenterOwner"
        Background="{DynamicResource BackgroundBrush}">
    
    <Grid Background="{DynamicResource BackgroundBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="10" HorizontalAlignment="Right">
            <Button Content="{x:Static resources:Strings.ExportLogs}" Click="ExportLogsButton_Click"
                    Width="100" Margin="0,0,10,0" Style="{DynamicResource OutlinedButtonStyle}"/>
            <Button Content="{x:Static resources:Strings.CopySelected}" Click="CopySelectedButton_Click"
                    Width="100" Margin="0,0,10,0" Style="{DynamicResource OutlinedButtonStyle}"/>
            <Button Content="{x:Static resources:Strings.CopyAll}" Click="CopyAllButton_Click"
                    Width="100" Margin="0,0,10,0" Style="{DynamicResource OutlinedButtonStyle}"/>
            <Button Content="{x:Static resources:Strings.ClearLogs}" Click="ClearLogsButton_Click"
                    Width="100" Style="{DynamicResource FilledButtonStyle}"/>
        </StackPanel>

        <!-- Filter Panel -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="10,0,10,10" HorizontalAlignment="Left">
            <TextBlock Text="{x:Static resources:Strings.Filter}" VerticalAlignment="Center" Margin="0,0,10,0"
                       Foreground="{DynamicResource OnBackgroundBrush}"/>
            <CheckBox Name="ShowInfoCheckBox" Content="{x:Static resources:Strings.Information}" IsChecked="True"
                      Checked="FilterCheckBox_Changed" Unchecked="FilterCheckBox_Changed"
                      Margin="0,0,15,0" Foreground="{DynamicResource OnBackgroundBrush}"/>
            <CheckBox Name="ShowWarningCheckBox" Content="{x:Static resources:Strings.Warning}" IsChecked="True"
                      Checked="FilterCheckBox_Changed" Unchecked="FilterCheckBox_Changed"
                      Margin="0,0,15,0" Foreground="{DynamicResource OnBackgroundBrush}"/>
            <CheckBox Name="ShowErrorCheckBox" Content="{x:Static resources:Strings.Error}" IsChecked="True"
                      Checked="FilterCheckBox_Changed" Unchecked="FilterCheckBox_Changed"
                      Foreground="{DynamicResource OnBackgroundBrush}"/>
        </StackPanel>

        <!-- Log Content -->
        <ListView Grid.Row="2" Name="LogListView" Margin="10,0,10,10"
                  Background="{DynamicResource SurfaceBrush}"
                  Foreground="{DynamicResource OnSurfaceBrush}">
            <ListView.View>
                <GridView>
                    <GridViewColumn Header="{x:Static resources:Strings.Time}" Width="120" DisplayMemberBinding="{Binding Timestamp, StringFormat=HH:mm:ss}"/>
                    <GridViewColumn Header="{x:Static resources:Strings.Level}" Width="80">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Level}">
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Foreground" Value="{DynamicResource OnSurfaceBrush}"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding Level}" Value="Error">
                                                    <Setter Property="Foreground" Value="{DynamicResource ErrorBrush}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Level}" Value="Warning">
                                                    <Setter Property="Foreground" Value="{DynamicResource WarningBrush}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Level}" Value="Information">
                                                    <Setter Property="Foreground" Value="{DynamicResource PrimaryBrush}"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Header="{x:Static resources:Strings.Message}" Width="800" DisplayMemberBinding="{Binding Message}"/>
                </GridView>
            </ListView.View>
        </ListView>
    </Grid>
</Window>